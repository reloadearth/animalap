<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>小动物们</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
    <style>
        #font1{
            font-family: "STXinwei", "华文新魏", STXinwei, serif;
            font-size: 36px;
            color: #e8e8e8;
            text-shadow: 2px 2px #000000;
        }
    </style>
</head>
<body data-new-gr-c-s-check-loaded="14.1027.0" data-gr-ext-installed="">

<header>
    <nav class="navbar navbar-expand-md navbar-dark bg-dark" aria-label="Fourth navbar example" _mstaria-label="420797">
        <div class="container-fluid">
            <a class="navbar-brand" href="#" th:href="@{/view/home}" id="font1">瑞宠领养平台</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarsExample04" aria-controls="navbarsExample04" aria-expanded="false" aria-label="Toggle navigation" _mstaria-label="320099">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="navbarsExample04">
                <ul class="navbar-nav me-auto mb-2 mb-md-0">
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="#" th:href="@{/view/animal}"><i class="bi bi-clipboard-heart"></i>小动物们</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" th:href="@{/view/bbs}"><i class="bi bi-cup-hot"></i>论坛</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" th:href="@{/view/notice}"><i class="bi bi-bell"></i>平台公告</a>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi bi-diamond"></i>我的账号</a>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item" href="#" th:href="@{/view/user/home}"><i class="bi bi-person"></i>个人主页</a></li>
                            <li><a class="dropdown-item" href="#" th:href="@{/view/user/agreement}"><i class="bi bi-list-columns"></i>我的申请</a></li>
<!--                            <li><a class="dropdown-item" href="#" th:href="@{/view/user/setting}"><i class="bi bi-person-gear"></i>账户安全</a></li>-->
                            <hr>
                            <li><a class="dropdown-item" href="#" th:href="@{/view/user/logout}"><i class="bi bi-box-arrow-in-right"></i>退出登录</a></li>
                        </ul>
                    </li>
                </ul>
                <form role="search" action="#" th:action="@{/view/search/animal}" method="get">
                    <input class="form-control" name="keyword" type="search" placeholder="Search" aria-label="Search" _mstplaceholder="74607" _mstaria-label="74607">
                </form>
            </div>
        </div>
    </nav>
</header>

<main>

    <section class="py-5 text-center container">
        <div class="row py-lg-5">
            <div class="col-lg-6 col-md-8 mx-auto">
                <h1 class="fw-light">小动物一览</h1>
                <p class="lead text-muted">随着社会结构变化和社会经济发展，独居、空巢群体逐渐扩展，宠物逐渐成为情感寄托，养宠观念明显改变。iiMedia Research调研数据显示，37.1%的受访者将宠物看成自己的朋友，超过4成把宠物当亲人，由此推动了宠物经济的发展，预计到2023年中国宠物经济市场规模将接近6000亿元。</p>
            </div>
        </div>
    </section>

    <div class="album py-5 bg-light">
        <div class="container" id="table1">

            <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3" th:fragment="animalList">
                <div class="col" th:each="animal,iterStat : ${pageInfo.list}">
                    <div class="card shadow-sm">
                        <img class="bd-placeholder-img card-img-top" style="height: 225px" th:src="${animal.firstpicture}">
                        <h4 class="fw-normal" style="position: relative;left: 10px;top: 5px" th:text="${animal.animalName}">小黑</h4>
                        <div class="card-body">
                            <p class="card-text" th:text="${animal.description}">This is a wider card with supporting text below as a natural lead-in to additional content. This content is a little bit longer.</p>
                            <div class="d-flex justify-content-between align-items-center">
                                <div class="btn-group">
                                    <a class="btn btn-sm btn-outline-secondary" th:href="@{/view/animal/detail(id=${animal.id})}">详情</a>
                                    <a class="btn btn-sm btn-outline-secondary" th:href="@{/view/animal/adopt(id=${animal.id})}">领养</a>
                                </div>
                                <small class="text-muted" th:text="${#dates.format(animal.updatetime,'yyyy年MM月')}">2023年3月</small>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="grid">
                    <div class="three wide column" style="width: 60px">
                        <button class="btn btn-sm btn-outline-secondary" id="prePage" th:unless="${pageInfo.isFirstPage}">
                            上一页
                        </button>
                    </div>
                    <div class="two wide column" style="width: 60px">
                        <button class="btn btn-sm btn-outline-secondary" id="nextPage" th:unless="${pageInfo.isLastPage}">
                            下一页
                        </button>
                    </div>
                    <div class="five wide column" style="width: 300px">
                        第<input name="gotoPage" type="text" style="width: 20%">页
                        <button id="goto" type="button" class="btn btn-sm btn-outline-secondary">直达</button>
                    </div>
                    <div class="six wide column" style="width: 300px">
                        <p style="height: 40px;vertical-align: middle;line-height: 30px;">第 <span
                                th:text="${pageInfo.pageNum}"></span> 页，共 <span id="maxPage"
                                                                                th:text="${pageInfo.pages}"></span>
                            页，有 <span th:text="${pageInfo.total}"></span> 只小动物</p>
                    </div>

                </div>
            </div>
        </div>
    </div>

</main>

<footer class="text-muted py-5">
    <div class="container">
        <p class="float-end mb-1">
            <a href="#">Back to top</a>
        </p>
        <p>© 2002–2023 Person, Inc. · <a href="https://blog.csdn.net/qq_45630650" target="_blank">Privacy</a> · <a >Terms</a></p>
    </div>
</footer>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js"></script>
<script>
    var n = 1;
    var max = document.getElementById("maxPage").innerText;
    $("#table1").on('click', '#goto', function () {
        x = $("[name='gotoPage']").val();
        if (x > 0 && x <= max) {
            n = x;
            loaddata();
        } else {
            alert("页数输出有误");
        }
    });
    $("#table1").on('click', '#prePage', function () {
        n--;
        loaddata();
    });
    $("#table1").on('click', '#nextPage', function () {
        n++;
        loaddata();
    });
    function loaddata(){
        $("#table1").load("/view/animal/search", {
            pageNum: n
        });
    }
</script>

</body>
</html>